<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>§6 Quantitative Text Analysis Basics 📊 – Intro to DH</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><link href="../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="../site_libs/wordcloud2-0.0.1/wordcloud.css" rel="stylesheet">
<script src="../site_libs/wordcloud2-0.0.1/wordcloud2-all.js"></script><script src="../site_libs/wordcloud2-0.0.1/hover.js"></script><script src="../site_libs/wordcloud2-binding-0.2.1/wordcloud2.js"></script><script src="quiz.js"></script><script src="content-switch.js"></script><link rel="stylesheet" href="../custom.css">
</head>
<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Intro to DH</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../syllabus.html"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../toolbox.html"> 
<span class="menu-text">Toybox</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../book/index.html" aria-current="page"> 
<span class="menu-text">Book</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../exam.html"> 
<span class="menu-text">Quiz</span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../book/06-qta.html">§6 Quantitative Text Analysis Basics 📊</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/01-introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">§1 Introduction to Digital Humanities</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/02-R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">§2 Getting Started With R</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/03-dice.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">§3 Rolling the Dice 🎲</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/04-cards.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">§4 Dealing With Cards 🃏</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/05-tidyverse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">§5 Spinning the Reels 🎰</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../book/06-qta.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">§6 Quantitative Text Analysis Basics 📊</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li>
<a href="#what-is-quantitative-text-analysis" id="toc-what-is-quantitative-text-analysis" class="nav-link active" data-scroll-target="#what-is-quantitative-text-analysis"><span class="header-section-number">1</span> What is Quantitative Text Analysis? 🤔</a>
  <ul class="collapse">
<li><a href="#qta-in-digital-humanities" id="toc-qta-in-digital-humanities" class="nav-link" data-scroll-target="#qta-in-digital-humanities"><span class="header-section-number">1.1</span> QTA in Digital Humanities</a></li>
  <li><a href="#qta-workflow" id="toc-qta-workflow" class="nav-link" data-scroll-target="#qta-workflow"><span class="header-section-number">1.2</span> QTA Workflow</a></li>
  </ul>
</li>
  <li>
<a href="#text-preprocessing-and-standardization-techniques" id="toc-text-preprocessing-and-standardization-techniques" class="nav-link" data-scroll-target="#text-preprocessing-and-standardization-techniques"><span class="header-section-number">2</span> Text Preprocessing and Standardization Techniques 🧹</a>
  <ul class="collapse">
<li><a href="#understanding-text-preprocessing" id="toc-understanding-text-preprocessing" class="nav-link" data-scroll-target="#understanding-text-preprocessing"><span class="header-section-number">2.1</span> Understanding Text Preprocessing</a></li>
  <li>
<a href="#understanding-regular-expressions" id="toc-understanding-regular-expressions" class="nav-link" data-scroll-target="#understanding-regular-expressions"><span class="header-section-number">2.2</span> Understanding Regular Expressions</a>
  <ul class="collapse">
<li><a href="#key-concepts" id="toc-key-concepts" class="nav-link" data-scroll-target="#key-concepts"><span class="header-section-number">2.2.1</span> Key Concepts</a></li>
  <li><a href="#examples-of-regex" id="toc-examples-of-regex" class="nav-link" data-scroll-target="#examples-of-regex"><span class="header-section-number">2.2.2</span> Examples of Regex</a></li>
  <li><a href="#posix-character-classes-a-friendly-starting-point" id="toc-posix-character-classes-a-friendly-starting-point" class="nav-link" data-scroll-target="#posix-character-classes-a-friendly-starting-point"><span class="header-section-number">2.2.3</span> POSIX Character Classes: A Friendly Starting Point</a></li>
  </ul>
</li>
  <li><a href="#learning-check" id="toc-learning-check" class="nav-link" data-scroll-target="#learning-check"><span class="header-section-number">2.3</span> Learning Check 🏁</a></li>
  <li><a href="#tidy-structuring" id="toc-tidy-structuring" class="nav-link" data-scroll-target="#tidy-structuring"><span class="header-section-number">2.4</span> Tidy Structuring</a></li>
  <li>
<a href="#noise-removal" id="toc-noise-removal" class="nav-link" data-scroll-target="#noise-removal"><span class="header-section-number">2.5</span> Noise Removal</a>
  <ul class="collapse">
<li><a href="#capitalization-removal" id="toc-capitalization-removal" class="nav-link" data-scroll-target="#capitalization-removal"><span class="header-section-number">2.5.1</span> Capitalization Removal</a></li>
  <li><a href="#punctuation-and-special-character-removal" id="toc-punctuation-and-special-character-removal" class="nav-link" data-scroll-target="#punctuation-and-special-character-removal"><span class="header-section-number">2.5.2</span> Punctuation and Special Character Removal</a></li>
  <li><a href="#numbers-removal" id="toc-numbers-removal" class="nav-link" data-scroll-target="#numbers-removal"><span class="header-section-number">2.5.3</span> Numbers Removal</a></li>
  </ul>
</li>
  <li><a href="#tokenization" id="toc-tokenization" class="nav-link" data-scroll-target="#tokenization"><span class="header-section-number">2.6</span> Tokenization</a></li>
  <li><a href="#stopwords-removal" id="toc-stopwords-removal" class="nav-link" data-scroll-target="#stopwords-removal"><span class="header-section-number">2.7</span> Stopwords Removal</a></li>
  <li>
<a href="#stemming-and-lemmatization" id="toc-stemming-and-lemmatization" class="nav-link" data-scroll-target="#stemming-and-lemmatization"><span class="header-section-number">2.8</span> Stemming and Lemmatization</a>
  <ul class="collapse">
<li><a href="#what-are-stemming-and-lemmatization" id="toc-what-are-stemming-and-lemmatization" class="nav-link" data-scroll-target="#what-are-stemming-and-lemmatization"><span class="header-section-number">2.8.1</span> What are Stemming and Lemmatization?</a></li>
  <li><a href="#when-to-use-them" id="toc-when-to-use-them" class="nav-link" data-scroll-target="#when-to-use-them"><span class="header-section-number">2.8.2</span> When to Use Them?</a></li>
  <li><a href="#applying-stemming" id="toc-applying-stemming" class="nav-link" data-scroll-target="#applying-stemming"><span class="header-section-number">2.8.3</span> Applying Stemming</a></li>
  <li><a href="#stemming-vs.-lemmatization" id="toc-stemming-vs.-lemmatization" class="nav-link" data-scroll-target="#stemming-vs.-lemmatization"><span class="header-section-number">2.8.4</span> Stemming vs.&nbsp;Lemmatization</a></li>
  </ul>
</li>
  <li><a href="#hands-on-coding" id="toc-hands-on-coding" class="nav-link" data-scroll-target="#hands-on-coding"><span class="header-section-number">2.9</span> Hands-On Coding 💻</a></li>
  </ul>
</li>
  <li>
<a href="#text-representation" id="toc-text-representation" class="nav-link" data-scroll-target="#text-representation"><span class="header-section-number">3</span> Text Representation 🧮</a>
  <ul class="collapse">
<li><a href="#bag-of-words-bow" id="toc-bag-of-words-bow" class="nav-link" data-scroll-target="#bag-of-words-bow"><span class="header-section-number">3.1</span> Bag-of-Words (BoW)</a></li>
  </ul>
</li>
  <li>
<a href="#visualizing-text-data" id="toc-visualizing-text-data" class="nav-link" data-scroll-target="#visualizing-text-data"><span class="header-section-number">4</span> Visualizing Text Data 📊</a>
  <ul class="collapse">
<li><a href="#word-clouds" id="toc-word-clouds" class="nav-link" data-scroll-target="#word-clouds"><span class="header-section-number">4.1</span> Word Clouds</a></li>
  <li><a href="#bar-charts-of-word-frequency" id="toc-bar-charts-of-word-frequency" class="nav-link" data-scroll-target="#bar-charts-of-word-frequency"><span class="header-section-number">4.2</span> Bar Charts of Word Frequency</a></li>
  <li><a href="#n-grams" id="toc-n-grams" class="nav-link" data-scroll-target="#n-grams"><span class="header-section-number">4.3</span> N-grams</a></li>
  <li><a href="#learning-check-1" id="toc-learning-check-1" class="nav-link" data-scroll-target="#learning-check-1"><span class="header-section-number">4.4</span> Learning Check 🏁</a></li>
  </ul>
</li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="header-section-number">5</span> Conclusion</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">§6 Quantitative Text Analysis Basics 📊</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><p>Welcome to the world of quantitative text analysis! In this chapter, we’ll explore the fundamental concepts and techniques used to prepare text data for analysis. We’ll use a collection of classic novels as our dataset to demonstrate these concepts.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Learning Objectives
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<ul>
<li>📖 Understand the basics of text analysis and its applications in Digital Humanities</li>
<li>🧹 Learn essential text preprocessing techniques</li>
<li>🔤 Explore basic text analysis concepts like tokenization and word frequency</li>
<li>📊 Visualize text data using simple techniques like word clouds</li>
</ul>
</div>
</div>
</div>
<section id="what-is-quantitative-text-analysis" class="level1" data-number="1"><h1 data-number="1">
<span class="header-section-number">1</span> What is Quantitative Text Analysis? 🤔</h1>
<p>Quantitative text analysis (QTA) is a method of analyzing large volumes of text data using computational techniques. It allows researchers to extract meaningful patterns, themes, and insights from textual data that would be difficult or impossible to analyze manually.</p>
<section id="qta-in-digital-humanities" class="level2" data-number="1.1"><h2 data-number="1.1" class="anchored" data-anchor-id="qta-in-digital-humanities">
<span class="header-section-number">1.1</span> QTA in Digital Humanities</h2>
<p>In Digital Humanities, QTA offers powerful tools for exploring large text corpora:</p>
<ol type="1">
<li><p><strong>Scale</strong>: Analyze vast collections of texts, revealing patterns across time periods, genres, or authors.</p></li>
<li><p><strong>Distant Reading</strong>: Observe broader patterns in literature and cultural production.</p></li>
<li><p><strong>Hypothesis Testing</strong>: Empirically test literary and cultural theories across large datasets.</p></li>
<li><p><strong>Discovery</strong>: Reveal unexpected patterns or connections, sparking new research questions.</p></li>
<li><p><strong>Interdisciplinary</strong>: Combine methods from linguistics, computer science, and statistics with humanistic inquiry.</p></li>
<li><p><strong>Visualization</strong>: Present textual data in new, visually interpretable ways.</p></li>
</ol>
<p>QTA complements traditional close reading, offering Digital Humanities scholars new perspectives on cultural, historical, and literary phenomena.</p>
</section><section id="qta-workflow" class="level2" data-number="1.2"><h2 data-number="1.2" class="anchored" data-anchor-id="qta-workflow">
<span class="header-section-number">1.2</span> QTA Workflow</h2>
<p><img src="images/QTA workflow.png" class="img-fluid"></p>
<p>The Quantitative Text Analysis (QTA) workflow illustrates the systematic process of analyzing textual data using computational methods. This workflow can be divided into five main stages:</p>
<ol type="1">
<li>
<p><strong>Data Acquisition</strong>:</p>
<ul>
<li>Data retrieval from various sources</li>
<li>Web scraping techniques</li>
<li>Social media API integration</li>
<li>…</li>
</ul>
</li>
<li>
<p><strong>Text Preprocessing and Standardization</strong>:</p>
<ul>
<li>
<strong>Tidy structuring</strong>: Organizing data into a consistent format</li>
<li>
<strong>Noise removal</strong>: Eliminating capitalization, special characters, punctuation, and numbers</li>
<li>
<strong>Tokenization</strong>: Breaking text into individual units (words, sentences)</li>
<li>
<strong>Stopwords removal</strong>: Eliminating common words with little semantic content</li>
<li>
<strong>Stemming or lemmatization</strong>: Reducing words to their root forms</li>
<li>
<strong>POS (Part-of-Speech) tagging</strong>: Labeling words with their grammatical categories</li>
<li>
<strong>Named Entity Recognition (NER)</strong>: Identifying and classifying named entities in text</li>
<li>…</li>
</ul>
</li>
<li>
<p><strong>Text Representation</strong>:</p>
<ul>
<li>
<strong>Count-based methods</strong>:
<ul>
<li>Bag-of-words representation</li>
<li>Term frequency-inverse document frequency (TF-IDF)</li>
<li>…</li>
</ul>
</li>
<li>
<strong>Context-based methods</strong>:
<ul>
<li>N-grams analysis</li>
<li>Co-occurrence matrix</li>
<li>Word embeddings (e.g., Word2Vec, GloVe)</li>
<li>…</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Data Analysis and Modeling</strong>:</p>
<ul>
<li>
<strong>Sentiment Analysis</strong>: Determining the emotional tone of text</li>
<li>
<strong>Topic Modeling</strong>: Discovering abstract topics in a collection of documents</li>
<li>
<strong>Social Network Analysis</strong>: Analyzing relationships and structures in text data</li>
<li>…</li>
</ul>
</li>
<li>
<p><strong>Visualization &amp; Reporting</strong>:</p>
<ul>
<li>Visualizing sentiment trends over time or across categories</li>
<li>Creating network graphs to represent relationships in text data</li>
<li>Displaying topic distributions and their evolution</li>
<li>Summarizing findings and insights in reports or publications</li>
<li>…</li>
</ul>
</li>
</ol>
<p>This workflow emphasizes the importance of a structured approach to text analysis, from raw data to final insights. Each stage builds upon the previous one, with the flexibility to iterate or adjust methods based on the specific requirements of the analysis and research questions. The process can be iterative, with researchers often moving back and forth between stages as needed to refine their analysis and results.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Install Package Manager <code>pacman</code>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>We will be using some new packages that you probably haven’t installed. To streamline the process of package installation, let’s introduce a helpful tool for managing R packages: <code>pacman</code>. The <code>pacman</code> package is a convenient package management tool for R that simplifies the process of loading and installing multiple packages.</p>
<p>Key features of <code>pacman</code>:</p>
<ol type="1">
<li>It combines the functionality of <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> and <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> into a single function <code><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load()</a></code>.</li>
<li>It automatically installs packages if they’re not already installed.</li>
<li>It can load multiple packages with a single line of code.</li>
</ol>
<p>Let’s install <code>pacman</code>:</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="st"><a href="https://github.com/trinker/pacman">"pacman"</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"pacman"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: pacman</code></pre>
</div>
</div>
<p>Once we load the <code>pacman</code> library, we can use <code><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load()</a></code> to efficiently load (and install if necessary) the packages we’ll need:</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/trinker/pacman">pacman</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">tidyverse</span>, <span class="va">tidytext</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This single line will ensure all the packages we need are installed and loaded, streamlining our setup process.</p>
</div>
</div>
</div>
</section></section><section id="text-preprocessing-and-standardization-techniques" class="level1" data-number="2"><h1 data-number="2">
<span class="header-section-number">2</span> Text Preprocessing and Standardization Techniques 🧹</h1>
<p><img src="images/preprocessing.png" class="img-fluid"></p>
<section id="understanding-text-preprocessing" class="level2" data-number="2.1"><h2 data-number="2.1" class="anchored" data-anchor-id="understanding-text-preprocessing">
<span class="header-section-number">2.1</span> Understanding Text Preprocessing</h2>
<p>Text preprocessing is the crucial first step in quantitative text analysis. It involves cleaning and standardizing raw text data to make it suitable for computational analysis.</p>
<p><strong>Why is it important?</strong></p>
<ul>
<li>Improves data quality and consistency</li>
<li>Reduces noise and irrelevant information</li>
<li>Enhances the accuracy of subsequent analyses</li>
<li>Makes text data more manageable for computational processing</li>
</ul>
<p><strong>Fundamental considerations:</strong></p>
<ol type="1">
<li>
<strong>Purpose</strong>: The preprocessing steps you choose should align with your research questions and analysis goals.</li>
<li>
<strong>Language</strong>: Different languages may require specific preprocessing techniques.</li>
<li>
<strong>Domain</strong>: The nature of your texts (e.g., literary, social media, historical) may influence preprocessing decisions.</li>
<li>
<strong>Information preservation</strong>: Be cautious not to remove potentially important information during preprocessing.</li>
<li>
<strong>Reproducibility</strong>: Document your preprocessing steps to ensure your analysis can be replicated.</li>
</ol>
<p>Remember, there’s no one-size-fits-all approach to preprocessing. The techniques you apply should be carefully considered based on your specific research context.</p>
<p>To showcase the various techniques for text preprocessing, let’s first create a mock dataset:</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mock_data</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"The Quick Brown Fox Jumps Over the Lazy Dog! Data Science meets Cultural Studies."</span>,</span>
<span>    <span class="st">"Digital Humanities 101: An Introduction (2024); Exploring Big Data in Literature &amp; History"</span>,</span>
<span>    <span class="st">"R Programming for Text Analysis - Chapter 3. Machine Learning for Textual Analysis"</span>,</span>
<span>    <span class="st">"NLP techniques &amp; their applications in DH research; Computational Methods in Humanities Research?"</span>,</span>
<span>    <span class="st">"20+ ways to visualize data 📊: graphs, charts, and more! Digital Archives and Text Mining Techniques."</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s take a closer look at our mock dataset:</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">mock_data</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 1
  text                                                                          
  &lt;chr&gt;                                                                         
1 The Quick Brown Fox Jumps Over the Lazy Dog! Data Science meets Cultural Stud…
2 Digital Humanities 101: An Introduction (2024); Exploring Big Data in Literat…
3 R Programming for Text Analysis - Chapter 3. Machine Learning for Textual Ana…
4 NLP techniques &amp; their applications in DH research; Computational Methods in …
5 20+ ways to visualize data 📊: graphs, charts, and more! Digital Archives and…</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Reflection 🤔
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Examine the mock dataset above and reflect on the following questions:</p>
<ul>
<li><p>What characteristics or elements do you notice that might need preprocessing for effective text analysis?</p></li>
<li><p>What challenges might these elements pose for text analysis? How might preprocessing help address these challenges?</p></li>
</ul>
</div>
</div>
</div>
<details><summary>
Click to Reveal Some Insights
</summary><ol type="1">
<li><p><strong>Capitalization</strong>: Words are inconsistently capitalized (e.g., “The Quick Brown Fox” vs.&nbsp;“Data Science”). This could lead to treating identical words as different entities.</p></li>
<li><p><strong>Punctuation</strong>: Various punctuation marks are present, including periods, exclamation marks, colons, and semicolons. These might interfere with word tokenization and analysis.</p></li>
<li><p><strong>Numbers</strong>: Some entries contain numbers (e.g., “101”, “2024”, “3”, “20+”). Depending on the analysis goals, these might need to be removed or treated specially.</p></li>
<li><p><strong>Special Characters</strong>: There are ampersands (&amp;) and hyphens (-) which might need special handling.</p></li>
<li><p><strong>Sentence Structure</strong>: Each row contains multiple sentences. For sentence-level analysis, we might need to split these.</p></li>
<li><p><strong>Abbreviations</strong>: “NLP” and “DH” are present. We might need to decide whether to expand these or treat them as single tokens.</p></li>
<li><p><strong>Stop Words</strong>: Common words like “the”, “and”, “for” are present. These might not contribute much meaning to the analysis.</p></li>
</ol>
<p>These observations highlight the need for various preprocessing steps, including: - Converting text to lowercase for consistency - Removing or standardizing punctuation - Handling numbers and special characters - Sentence or word tokenization - Removing stop words</p>
By addressing these elements through preprocessing, we can prepare our text data for more effective and accurate analysis.
</details></section><section id="understanding-regular-expressions" class="level2" data-number="2.2"><h2 data-number="2.2" class="anchored" data-anchor-id="understanding-regular-expressions">
<span class="header-section-number">2.2</span> Understanding Regular Expressions</h2>
<p>Before we dive into analyzing our mock data, let’s explore a powerful tool in text analysis: <strong>Regular Expressions</strong>.</p>
<p>Have you ever wondered how computer programs like Excel or Word can find the exact word or phrase you’re searching for? Or how they can replace all instances of a word throughout a document in just seconds? These everyday text operations are powered by a concept called <strong>pattern matching</strong>, and regular expressions take this idea to a whole new level.</p>
<p>Regular Expressions, often called <strong>regex</strong>, are like a special language for describing patterns in text. Imagine you’re a librarian with a magical magnifying glass that can find not just specific words, but patterns in books.</p>
<section id="key-concepts" class="level3" data-number="2.2.1"><h3 data-number="2.2.1" class="anchored" data-anchor-id="key-concepts">
<span class="header-section-number">2.2.1</span> Key Concepts</h3>
<ol type="1">
<li>
<strong>Pattern Matching</strong>: Instead of searching for exact words, regex lets you search for patterns. For example, you could search for:
<ul>
<li>All words that start with “pre”</li>
<li>Any sequence of five letters</li>
<li>All dates in a specific format</li>
</ul>
</li>
<li>
<strong>Text Processing</strong>: Once you find these patterns, you can do things like:
<ul>
<li>Highlight them</li>
<li>Replace them with something else</li>
<li>Extract them for further study</li>
</ul>
</li>
</ol></section><section id="examples-of-regex" class="level3" data-number="2.2.2"><h3 data-number="2.2.2" class="anchored" data-anchor-id="examples-of-regex">
<span class="header-section-number">2.2.2</span> Examples of Regex</h3>
<p>To give you a better idea of what regular expressions look like and how they work, let’s look at an example:</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">stringr</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Sample text</span></span>
<span><span class="va">text</span> <span class="op">&lt;-</span> <span class="st">"Jane Austen wrote Pride and Prejudice. Elizabeth Bennet is the protagonist."</span></span>
<span></span>
<span><span class="co"># Regex pattern for capitalized words</span></span>
<span><span class="va">pattern</span> <span class="op">&lt;-</span> <span class="st">"\\b[A-Z][a-z]+\\b"</span></span>
<span></span>
<span><span class="co"># Find all matches</span></span>
<span><span class="va">matches</span> <span class="op">&lt;-</span> <span class="fu">str_extract_all</span><span class="op">(</span><span class="va">text</span>, <span class="va">pattern</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Print the matches</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">matches</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "Jane"      "Austen"    "Pride"     "Prejudice" "Elizabeth" "Bennet"   </code></pre>
</div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># To see which words were matched in context</span></span>
<span><span class="fu">str_view</span><span class="op">(</span><span class="va">text</span>, <span class="va">pattern</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ &lt;Jane&gt; &lt;Austen&gt; wrote &lt;Pride&gt; and &lt;Prejudice&gt;. &lt;Elizabeth&gt; &lt;Bennet&gt; is the protagonist.</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Regex breakdown
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Let’s break down the regex pattern <code>\\b[A-Z][a-z]+\\b</code>:</p>
<ol type="1">
<li><p><code>\\b</code>: This represents a word boundary. In R, we need to escape the backslash, so we use two. It ensures we’re matching whole words, not parts of words.</p></li>
<li><p><code>[A-Z]</code>: This character class matches any single uppercase letter from A to Z.</p></li>
<li>
<p><code>[a-z]+</code>: This matches one or more lowercase letters.</p>
<ul>
<li>
<code>[a-z]</code> is a character class that matches any single lowercase letter.</li>
<li>The <code>+</code> quantifier means “one or more” of the preceding element.</li>
</ul>
</li>
<li><p><code>\\b</code>: Another word boundary to end the match.</p></li>
</ol>
<p>So, this pattern matches: - Words that start with a capital letter (like names or the first word of a sentence) - Followed by one or more lowercase letters - As whole words, not parts of larger words</p>
<p>It won’t match: - ALL CAPS words - words with numbers or symbols - Single-letter capitalized words like “I” or “A”</p>
<p>This pattern is useful for finding proper nouns in the middle of sentences, like names of people or places.</p>
</div>
</div>
</div>
</section><section id="posix-character-classes-a-friendly-starting-point" class="level3" data-number="2.2.3"><h3 data-number="2.2.3" class="anchored" data-anchor-id="posix-character-classes-a-friendly-starting-point">
<span class="header-section-number">2.2.3</span> POSIX Character Classes: A Friendly Starting Point</h3>
<p>You may find that regex can be quite hard to read for humans. POSIX character classes are pre-defined sets of characters that make regex more accessible and portable across different systems. They simplify regex patterns and address some common challenges in text processing:</p>
<ol type="1">
<li><p><strong>Simplification</strong>: POSIX classes provide easy-to-remember shorthand for common character groups. Instead of writing <code>[A-Za-z]</code> to match any letter, you can use <code>[:alpha:]</code>.</p></li>
<li><p><strong>Consistency</strong>: They ensure consistent behavior across different operating systems and programming languages. For example, <code>[A-Z]</code> might behave differently in some contexts depending on the locale settings, but <code>[:upper:]</code> is always consistent.</p></li>
<li><p><strong>Internationalization</strong>: POSIX classes can handle characters beyond the ASCII range, making them useful for working with texts in various languages.</p></li>
<li><p><strong>Readability</strong>: They make regex patterns more readable and self-explanatory, which is especially helpful when sharing code or working in teams.</p></li>
</ol>
<p>Here are some useful POSIX character classes:</p>
<ul>
<li>
<code>[:alpha:]</code>: Matches any alphabetic character (equivalent to <code>[A-Za-z]</code> in English texts)</li>
<li>
<code>[:digit:]</code>: Matches any digit (equivalent to <code>[0-9]</code>)</li>
<li>
<code>[:lower:]</code>: Matches any lowercase letter</li>
<li>
<code>[:upper:]</code>: Matches any uppercase letter</li>
<li>
<code>[:punct:]</code>: Matches any punctuation character</li>
<li>
<code>[:space:]</code>: Matches any whitespace character (spaces, tabs, newlines)</li>
</ul>
<p>By using these classes, you can create more robust and readable regex patterns. For example, instead of <code>[A-Za-z0-9]</code> to match any alphanumeric character, you could use <code>[[:alpha:][:digit:]]</code>, which is clearer in its intent and works across different language settings.</p>
<section id="examples-in-humanities-context" class="level4"><h4 class="anchored" data-anchor-id="examples-in-humanities-context">Examples in Humanities Context</h4>
<ol type="1">
<li>Finding capitalized words:
<ul>
<li>Pattern: <code>[[:upper:]][[:lower:]]+</code>
</li>
<li>This would match words like “Shakespeare”, “London”, “Renaissance”</li>
</ul>
</li>
<li>Identifying years:
<ul>
<li>Pattern: <code>[[:digit:]]{4}</code>
</li>
<li>This would match years like “1564”, “1616”, “2023”</li>
</ul>
</li>
<li>Locating punctuation:
<ul>
<li>Pattern: <code>[[:punct:]]</code>
</li>
<li>This would find all punctuation marks in a text</li>
</ul>
</li>
</ol>
<p>Remember, regex is a tool that becomes more useful as you practice. Start simple, and you’ll gradually be able to create more complex patterns for your research needs!</p>
</section></section></section><section id="learning-check" class="level2" data-number="2.3"><h2 data-number="2.3" class="anchored" data-anchor-id="learning-check">
<span class="header-section-number">2.3</span> Learning Check 🏁</h2>
<div id="quiz-qta-intro">

</div>
<script>
createQuiz({
  questions: [
    {
      text: "What is the primary purpose of Quantitative Text Analysis (QTA)?",
      options: [
        "To translate texts into different languages",
        "To analyze large volumes of text data using computational techniques",
        "To improve the grammar and style of written texts",
        "To create new literary works using artificial intelligence"
      ]
    },
    {
      text: "Which of the following is NOT a benefit of QTA in Digital Humanities?",
      options: [
        "Analyzing vast collections of texts",
        "Observing broader patterns in literature",
        "Replacing close reading entirely",
        "Empirically testing literary theories"
      ]
    },
    {
      text: "In the QTA workflow, what needs to be done before text can be transformed to numbers (i.e., text representation)?",
      options: [
        "Topic Modeling",
        "Sentiment Analysis",
        "Preprocessing Steps",
        "Visualization"
      ]
    },
    {
      text: "What is the main purpose of regular expressions (regex) in text analysis?",
      options: [
        "To translate text between languages",
        "To find and match patterns in text",
        "To increase the font size of text",
        "To create new words in a language"
      ]
    },
    {
      text: "Which POSIX character class would you use to match any punctuation mark?",
      options: [
        "[:alpha:]",
        "[:digit:]",
        "[:lower:]",
        "[:punct:]"
      ]
    }
  ],
  answers: [1, 2, 2, 1, 3]
}, "quiz-qta-intro");
</script><p>Now let’s proceed to preprocess the mock dataset!</p>
</section><section id="tidy-structuring" class="level2" data-number="2.4"><h2 data-number="2.4" class="anchored" data-anchor-id="tidy-structuring">
<span class="header-section-number">2.4</span> Tidy Structuring</h2>
<p>The first step in our preprocessing pipeline is to ensure our data is in a tidy format. Remember a tidy format means one observation per row and the unit of the observation, whether it is a sentence, or a word, varies from project to project depending on the nature of your study and research questions. For this example, let’s assume we want one sentence per row. We’ll use <code>separate_rows()</code> with a regular expression (regex) pattern to achieve this:</p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">tidy_data</span> <span class="op">&lt;-</span> <span class="va">mock_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">separate_rows</span><span class="op">(</span><span class="va">text</span>, sep <span class="op">=</span> <span class="st">"(?&lt;=[.!?])\\s+(?=[A-Z])"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">tidy_data</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 1
  text                                                                          
  &lt;chr&gt;                                                                         
1 The Quick Brown Fox Jumps Over the Lazy Dog!                                  
2 Data Science meets Cultural Studies.                                          
3 Digital Humanities 101: An Introduction (2024); Exploring Big Data in Literat…
4 R Programming for Text Analysis - Chapter 3.                                  
5 Machine Learning for Textual Analysis                                         
6 NLP techniques &amp; their applications in DH research; Computational Methods in …
7 20+ ways to visualize data 📊: graphs, charts, and more!                      
8 Digital Archives and Text Mining Techniques.                                  </code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Understanding <code>separate_rows()</code>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<ol type="1">
<li>
<code>separate_rows()</code> Function:
<ul>
<li>Part of the tidyr package in tidyverse</li>
<li>Separates a column into multiple rows based on a delimiter</li>
<li>Syntax: <code>separate_rows(data, column, sep = delimiter)</code>
</li>
</ul>
</li>
<li>Regular Expression (Regex) Pattern:
<ul>
<li>
<code>(?&lt;=[.!?])</code>: Positive lookbehind, matches a position after a period, exclamation mark, or question mark</li>
<li>
<code>\\s+</code>: Matches one or more whitespace characters</li>
<li>
<code>(?=[A-Z])</code>: Positive lookahead, matches a position before an uppercase letter</li>
<li>Combined, this pattern splits the text at sentence boundaries</li>
</ul>
</li>
<li>How it works:
<ul>
<li>
<code>separate_rows()</code> applies the regex pattern to split the ‘text’ column</li>
<li>Each resulting sentence becomes a new row in the dataframe</li>
<li>The original row’s other columns (if any) are duplicated for each new sentence row</li>
</ul>
</li>
</ol>
</div>
</div>
</div>
</section><section id="noise-removal" class="level2" data-number="2.5"><h2 data-number="2.5" class="anchored" data-anchor-id="noise-removal">
<span class="header-section-number">2.5</span> Noise Removal</h2>
<section id="capitalization-removal" class="level3" data-number="2.5.1"><h3 data-number="2.5.1" class="anchored" data-anchor-id="capitalization-removal">
<span class="header-section-number">2.5.1</span> Capitalization Removal</h3>
<p>Converting text to lowercase is a common preprocessing step that helps standardize the text and reduce the vocabulary size. Let’s apply this to our tidy data:</p>
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">lowercase_data</span> <span class="op">&lt;-</span> <span class="va">tidy_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html">tolower</a></span><span class="op">(</span><span class="va">text</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">lowercase_data</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 1
  text                                                                          
  &lt;chr&gt;                                                                         
1 the quick brown fox jumps over the lazy dog!                                  
2 data science meets cultural studies.                                          
3 digital humanities 101: an introduction (2024); exploring big data in literat…
4 r programming for text analysis - chapter 3.                                  
5 machine learning for textual analysis                                         
6 nlp techniques &amp; their applications in dh research; computational methods in …
7 20+ ways to visualize data 📊: graphs, charts, and more!                      
8 digital archives and text mining techniques.                                  </code></pre>
</div>
</div>
</section><section id="punctuation-and-special-character-removal" class="level3" data-number="2.5.2"><h3 data-number="2.5.2" class="anchored" data-anchor-id="punctuation-and-special-character-removal">
<span class="header-section-number">2.5.2</span> Punctuation and Special Character Removal</h3>
<p>Removing punctuation and special characters can help focus on the words themselves. We’ll use a regular expression to remove these:</p>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">clean_data</span> <span class="op">&lt;-</span> <span class="va">lowercase_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># Remove punctuation</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>text <span class="op">=</span> <span class="fu">str_replace_all</span><span class="op">(</span><span class="va">text</span>, <span class="st">"[[:punct:]]"</span>, <span class="st">""</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># Remove special characters (including emojis)</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>text <span class="op">=</span> <span class="fu">str_replace_all</span><span class="op">(</span><span class="va">text</span>, <span class="st">"[^[:alnum:][:space:]]"</span>, <span class="st">""</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">clean_data</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 1
  text                                                                          
  &lt;chr&gt;                                                                         
1 the quick brown fox jumps over the lazy dog                                   
2 data science meets cultural studies                                           
3 digital humanities 101 an introduction 2024 exploring big data in literature …
4 r programming for text analysis  chapter 3                                    
5 machine learning for textual analysis                                         
6 nlp techniques  their applications in dh research computational methods in hu…
7 20 ways to visualize data  graphs charts and more                             
8 digital archives and text mining techniques                                   </code></pre>
</div>
</div>
</section><section id="numbers-removal" class="level3" data-number="2.5.3"><h3 data-number="2.5.3" class="anchored" data-anchor-id="numbers-removal">
<span class="header-section-number">2.5.3</span> Numbers Removal</h3>
<p>Depending on your analysis goals, you might want to remove numbers. Here’s how to do that:</p>
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">no_numbers_data</span> <span class="op">&lt;-</span> <span class="va">clean_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>text <span class="op">=</span> <span class="fu">str_replace_all</span><span class="op">(</span><span class="va">text</span>, <span class="st">"\\d+"</span>, <span class="st">""</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">no_numbers_data</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 1
  text                                                                          
  &lt;chr&gt;                                                                         
1 "the quick brown fox jumps over the lazy dog"                                 
2 "data science meets cultural studies"                                         
3 "digital humanities  an introduction  exploring big data in literature  histo…
4 "r programming for text analysis  chapter "                                   
5 "machine learning for textual analysis"                                       
6 "nlp techniques  their applications in dh research computational methods in h…
7 " ways to visualize data  graphs charts and more"                             
8 "digital archives and text mining techniques"                                 </code></pre>
</div>
</div>
</section></section><section id="tokenization" class="level2" data-number="2.6"><h2 data-number="2.6" class="anchored" data-anchor-id="tokenization">
<span class="header-section-number">2.6</span> Tokenization</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What is a token?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>In text analysis, a “token” is the smallest unit of text that we analyze. Most commonly, a token is a single word, but it could also be a character, a punctuation mark, or even a phrase, depending on our analysis needs.</p>
<p>For example, in the sentence “The quick brown fox”, each word (“The”, “quick”, “brown”, “fox”) could be considered a token.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What is tokenization?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Tokenization is the process of breaking down a piece of text into its individual tokens. It’s like taking a sentence and splitting it into a list of words.</p>
<p>Why do we do this? Computers can’t understand text the way humans do. By breaking text into tokens, we create a format that’s easier for computers to process and analyze.</p>
</div>
</div>
</div>
<p>We’ll use the <code><a href="https://juliasilge.github.io/tidytext/reference/unnest_tokens.html">unnest_tokens()</a></code> function from the <code>tidytext</code> package:</p>
<div class="cell">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">tidytext</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tokenized_data</span> <span class="op">&lt;-</span> <span class="va">no_numbers_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">unnest_tokens</span><span class="op">(</span>output <span class="op">=</span> <span class="va">word</span>, input <span class="op">=</span> <span class="va">text</span>, token <span class="op">=</span> <span class="st">"words"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">tokenized_data</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 61 × 1
   word 
   &lt;chr&gt;
 1 the  
 2 quick
 3 brown
 4 fox  
 5 jumps
 6 over 
 7 the  
 8 lazy 
 9 dog  
10 data 
# ℹ 51 more rows</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code><a href="https://juliasilge.github.io/tidytext/reference/unnest_tokens.html">unnest_tokens()</a></code> function
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>The <code><a href="https://juliasilge.github.io/tidytext/reference/unnest_tokens.html">unnest_tokens()</a></code> function from the <code>tidytext</code> package is a powerful tool for text analysis:</p>
<ul>
<li>Purpose: Splits a column into tokens, creating a one-token-per-row structure.</li>
</ul>
<p>Key Arguments:</p>
<ul>
<li>output: Name of the new column for tokens</li>
<li>input: Column to be tokenized</li>
<li>token: Tokenization unit (e.g., “words”, “sentences”, “ngrams”)</li>
</ul>
<p>The <code><a href="https://juliasilge.github.io/tidytext/reference/unnest_tokens.html">unnest_tokens()</a></code> is built on the <code>tokenizers</code> package, which means there are a lot of arguments you can tweak to perform multiple operations at once. Below are some common features that you may want to pay attention to:</p>
<p>Features:</p>
<ul>
<li>Convert to lowercase by default (to_lower = TRUE)</li>
<li>Strip punctuations by default (strip_punct = TRUE)</li>
<li>Preserves numbers by default (strip_numeric = FALSE)</li>
<li>Automaticlaly removes extra white space</li>
</ul>
</div>
</div>
</div>
</section><section id="stopwords-removal" class="level2" data-number="2.7"><h2 data-number="2.7" class="anchored" data-anchor-id="stopwords-removal">
<span class="header-section-number">2.7</span> Stopwords Removal</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What are stopwords?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Stopwords are common words that are often removed from text analysis because they typically don’t carry much meaning on their own (i.e., “filler” words in language). These are words like “the”, “is”, “at”, “which”, and “on”.</p>
<p>In text analysis, removing stopwords helps us focus on the words that are more likely to carry the important content or meaning of the text. It’s like distilling a sentence down to its key concepts.</p>
</div>
</div>
</div>
<p>Now, let’s remove stopwords from our tokenized data:</p>
<div class="cell">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">stop_words</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data_without_stopwords</span> <span class="op">&lt;-</span> <span class="va">tokenized_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">anti_join</span><span class="op">(</span><span class="va">stop_words</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(word)`</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code><a href="https://dplyr.tidyverse.org/reference/filter-joins.html">anti_join()</a></code> Function
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>The <code><a href="https://dplyr.tidyverse.org/reference/filter-joins.html">anti_join()</a></code> function is a way to remove items from one list based on another list. Here is how it works:</p>
<ol type="1">
<li>
<p>Imagine you have two lists:</p>
<ul>
<li>List A: Your main list (in this case, our tokenized keywords)</li>
<li>List B: A list of items you want to remove (in this case, stopwords)</li>
</ul>
</li>
<li><p><code><a href="https://dplyr.tidyverse.org/reference/filter-joins.html">anti_join()</a></code> goes through List A and removes any item that appears in List B.</p></li>
<li><p>The result is a new list that contains only the items from List A that were not in List B.</p></li>
</ol>
<p>In our context:</p>
<ul>
<li>List A is our tokenized keywords</li>
<li>List B is the list of stopwords</li>
<li>The result is our keywords with all the stopwords removed</li>
</ul>
<p>It’s like having a big box of Lego bricks (your keywords) and a list of colors you don’t want (stopwords). <code><a href="https://dplyr.tidyverse.org/reference/filter-joins.html">anti_join()</a></code> helps you quickly remove all the Lego bricks of those unwanted colors, leaving you with only the colors you are interested in.</p>
<p>This function is particularly useful for cleaning text data, as it allows us to efficiently remove common words that might not be relevant to our analysis.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution with Stopword Removal
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>While stopword removal is a common preprocessing step, it’s important to consider its implications:</p>
<ol type="1">
<li><p><strong>Context Matters</strong>: Words considered “stop words” in one context might be meaningful in another. For example, “the” in “The Who” (band name) carries meaning.</p></li>
<li><p><strong>Negations</strong>: Removing words like “not” can invert the meaning of surrounding words, potentially affecting sentiment analysis.</p></li>
<li><p><strong>Phrase Meaning</strong>: Some phrases lose their meaning without stop words. “To be or not to be” becomes simply “be be” after stopword removal.</p></li>
<li><p><strong>Language Specificity</strong>: Stop word lists are language-specific. Ensure you’re using an appropriate list for your text’s language.</p></li>
<li><p><strong>Research Questions</strong>: Your specific research questions should guide whether and how you remove stop words. Some analyses might benefit from keeping certain stop words.</p></li>
</ol>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Customizing Stopword Lists (Advanced)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>The <code>stop_words</code> dataset in the tidytext package contains stop words from three lexicons: “onix”, “SMART”, and “snowball”. You can customize your stopword removal by:</p>
<ol type="1">
<li>
<p>Using only one lexicon:</p>
<div class="cell">
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">stop_words</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">lexicon</span> <span class="op">==</span> <span class="st">"snowball"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 174 × 2
   word      lexicon 
   &lt;chr&gt;     &lt;chr&gt;   
 1 i         snowball
 2 me        snowball
 3 my        snowball
 4 myself    snowball
 5 we        snowball
 6 our       snowball
 7 ours      snowball
 8 ourselves snowball
 9 you       snowball
10 your      snowball
# ℹ 164 more rows</code></pre>
</div>
</div>
</li>
<li>
<p>Adding or removing words from the list:</p>
<div class="cell">
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">custom_stop_words</span> <span class="op">&lt;-</span> <span class="va">stop_words</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">add_row</span><span class="op">(</span>word <span class="op">=</span> <span class="st">"custom_word"</span>, lexicon <span class="op">=</span> <span class="st">"custom"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</li>
<li><p>Creating your own domain-specific stop word list based on your corpus and research needs.</p></li>
</ol>
</div>
</div>
</div>
<p>Remember, the goal of stopword removal is to reduce noise in the data and focus on meaningful content. However, what constitutes “meaningful” can vary depending on your specific analysis goals and the nature of your text data.</p>
</section><section id="stemming-and-lemmatization" class="level2" data-number="2.8"><h2 data-number="2.8" class="anchored" data-anchor-id="stemming-and-lemmatization">
<span class="header-section-number">2.8</span> Stemming and Lemmatization</h2>
<p>Stemming and lemmatization are text normalization techniques used to reduce words to their base or root form. This process helps in grouping together different inflected forms of a word, which can be useful for various text analysis tasks.</p>
<section id="what-are-stemming-and-lemmatization" class="level3" data-number="2.8.1"><h3 data-number="2.8.1" class="anchored" data-anchor-id="what-are-stemming-and-lemmatization">
<span class="header-section-number">2.8.1</span> What are Stemming and Lemmatization?</h3>
<ol type="1">
<li>
<p><strong>Stemming</strong> is a simple, rule-based process of removing the ends of words (suffixes) to reduce them to their base form. For example:</p>
<ul>
<li>“running” → “run”</li>
<li>“cats” → “cat”</li>
<li>“better” → “better” (remains unchanged)</li>
</ul>
</li>
<li>
<p><strong>Lemmatization</strong> is a more sophisticated approach that considers the context and part of speech of a word to determine its base form (lemma). For example:</p>
<ul>
<li>“running” → “run”</li>
<li>“better” → “good”</li>
<li>“are” → “be”</li>
</ul>
</li>
</ol></section><section id="when-to-use-them" class="level3" data-number="2.8.2"><h3 data-number="2.8.2" class="anchored" data-anchor-id="when-to-use-them">
<span class="header-section-number">2.8.2</span> When to Use Them?</h3>
<ul>
<li>Use <strong>stemming</strong> when:
<ul>
<li>You need a quick, computationally efficient method.</li>
<li>The meaning of the stem is clear enough for your analysis.</li>
<li>You’re working with a large dataset and processing speed is crucial.</li>
</ul>
</li>
<li>Use <strong>lemmatization</strong> when:
<ul>
<li>You need more accurate, dictionary-based results.</li>
<li>The precise meaning of the word is important for your analysis.</li>
<li>You have the computational resources to handle a more intensive process.</li>
</ul>
</li>
</ul></section><section id="applying-stemming" class="level3" data-number="2.8.3"><h3 data-number="2.8.3" class="anchored" data-anchor-id="applying-stemming">
<span class="header-section-number">2.8.3</span> Applying Stemming</h3>
<p>In this example, we’ll apply stemming using the SnowballC package, which implements the Porter stemming algorithm:</p>
<div class="cell">
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">SnowballC</span><span class="op">)</span></span>
<span></span>
<span><span class="va">stemmed_data</span> <span class="op">&lt;-</span> <span class="va">data_without_stopwords</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>stem <span class="op">=</span> <span class="fu">wordStem</span><span class="op">(</span><span class="va">word</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">stemmed_data</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 44 × 2
   word     stem  
   &lt;chr&gt;    &lt;chr&gt; 
 1 quick    quick 
 2 brown    brown 
 3 fox      fox   
 4 jumps    jump  
 5 lazy     lazi  
 6 dog      dog   
 7 data     data  
 8 science  scienc
 9 meets    meet  
10 cultural cultur
# ℹ 34 more rows</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lemmatization Alternative
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>For lemmatization, you can use the <code>textstem</code> package:</p>
<div class="cell">
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">textstem</span><span class="op">)</span></span>
<span></span>
<span><span class="va">lemmatized_data</span> <span class="op">&lt;-</span> <span class="va">data_without_stopwords</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>lemma <span class="op">=</span> <span class="fu">lemmatize_words</span><span class="op">(</span><span class="va">word</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">lemmatized_data</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 44 × 2
   word     lemma   
   &lt;chr&gt;    &lt;chr&gt;   
 1 quick    quick   
 2 brown    brown   
 3 fox      fox     
 4 jumps    jump    
 5 lazy     lazy    
 6 dog      dog     
 7 data     datum   
 8 science  science 
 9 meets    meet    
10 cultural cultural
# ℹ 34 more rows</code></pre>
</div>
</div>
<p>Lemmatization often produces more intuitive results but can be slower for large datasets.</p>
</div>
</div>
</div>
</section><section id="stemming-vs.-lemmatization" class="level3" data-number="2.8.4"><h3 data-number="2.8.4" class="anchored" data-anchor-id="stemming-vs.-lemmatization">
<span class="header-section-number">2.8.4</span> Stemming vs.&nbsp;Lemmatization</h3>
<p>In humanities research, the choice between stemming and lemmatization can significantly impact your analysis:</p>
<ol type="1">
<li><p><strong>Preserving Meaning</strong>: Lemmatization often preserves meaning better, which can be crucial for literary analysis or historical research.</p></li>
<li><p><strong>Handling Irregular Forms</strong>: Lemmatization is better at handling irregular forms (e.g., “better” → “good”), which is common in many languages and especially important in analyzing older texts.</p></li>
<li><p><strong>Computational Resources</strong>: If you’re working with vast corpora, stemming might be more practical due to its speed.</p></li>
<li><p><strong>Language Specificity</strong>: For languages other than English, or for multilingual corpora, lemmatization often provides better results as it’s more adaptable to language-specific rules.</p></li>
<li><p><strong>Research Questions</strong>: Consider your research questions. If distinguishing between, say, “democratic” and “democracy” is crucial, lemmatization might be more appropriate.</p></li>
</ol>
<p>Remember, the choice of preprocessing steps, including whether to use stemming or lemmatization, should be guided by your specific research questions and the nature of your text data. It’s often helpful to experiment with different approaches and see which yields the most meaningful results for your particular study.</p>
</section></section><section id="hands-on-coding" class="level2" data-number="2.9"><h2 data-number="2.9" class="anchored" data-anchor-id="hands-on-coding">
<span class="header-section-number">2.9</span> Hands-On Coding 💻</h2>
<p>Now, let’s apply our text preprocessing skills to a real dataset. We’ll use the answers submitted by you in response to the “what is digital humanities? write down three keywords that come to mind” question. Our goal is to clean and prepare this text data for analysis.</p>
<p>First, let’s download the dataset:</p>
<p><a href="data/dh_keywords.csv">Download DH Keywords dataset</a></p>
<p>Save it in the folder name <code>data</code> in your working directory.</p>
<p>We can then load the csv file into RStudio:</p>
<div class="cell">
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">tidyverse</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load the dataset</span></span>
<span><span class="va">dh_keywords</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"data/dh_keywords.csv"</span>, col_names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 180 Columns: 1
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (1): X1

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">dh_keywords</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"keyword"</span></span>
<span></span>
<span><span class="co"># Display the first few rows</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dh_keywords</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  keyword
  &lt;chr&gt;  
1 math   
2 chatgpt
3 AI     
4 ai     
5 AI     
6 ai     </code></pre>
</div>
</div>
<section id="exercise-1-planning-preprocessing-steps" class="level4"><h4 class="anchored" data-anchor-id="exercise-1-planning-preprocessing-steps">Exercise 1: Planning Preprocessing Steps</h4>
<p>Before we start coding, let’s think about what steps we need to take to clean and standardize our DH keywords dataset, and in what order these steps should be performed.</p>
<p>Look at the first few rows of our dataset:</p>
<div class="cell">
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dh_keywords</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  keyword
  &lt;chr&gt;  
1 math   
2 chatgpt
3 AI     
4 ai     
5 AI     
6 ai     </code></pre>
</div>
</div>
<p>Now, consider the following questions:</p>
<ol type="1">
<li>What issues do you notice in the data that need to be addressed?</li>
<li>What preprocessing steps would you take to clean this data?</li>
<li>In what order should these steps be performed, and why?</li>
</ol>
<div id="hint-plan-1" style="display: none;">
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-14-contents" aria-controls="callout-14" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint 1
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-14" class="callout-14-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Notice that many rows contain more than one word. We may need to either separate rows so that there is only one entry per row or tokenize the data so that there is only one word per row.</p>
</div>
</div>
</div>
</div>
<div id="hint-plan-2" style="display: none;">
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-15-contents" aria-controls="callout-15" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint 2
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-15" class="callout-15-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>After tokenization, consider issues like inconsistent capitalization, punctuation, extra whitespace, and potentially empty entries.</p>
</div>
</div>
</div>
</div>
<script>
createProgressiveHints('hint-plan', 2);
</script><div id="solution-plan" style="display: none;">
<p>A possible preprocessing plan could be:</p>
<ol type="1">
<li>Tokenize the data so that we have one word per row.
<ul>
<li>This ensures we’re working with individual words.</li>
</ul>
</li>
<li>Convert all text to lowercase
<ul>
<li>This ensures consistency in our text data</li>
</ul>
</li>
<li>Remove all punctuation
<ul>
<li>This focuses our analysis on the words themselves</li>
</ul>
</li>
<li>Trim leading and trailing whitespace and replace multiple spaces with a single space
<ul>
<li>This cleans up any formatting inconsistencies</li>
</ul>
</li>
<li>Remove stop words
<ul>
<li>This eliminates common words that don’t carry much meaning in analysis</li>
</ul>
</li>
<li>Remove any empty entries that might result from the above steps
<ul>
<li>This ensures we’re only working with meaningful data</li>
</ul>
</li>
</ol>
<p>This order ensures that we first isolate individual keywords, then standardize the text (lowercase) before removing elements (punctuation), clean up spacing issues, and finally remove any entries that became empty as a result of our preprocessing.</p>
</div>
<script>
createToggleSection('solution-button-plan', 'solution-plan', 'Show Possible Plan');
</script></section><section id="exercise-2-implementing-the-preprocessing-steps" class="level4"><h4 class="anchored" data-anchor-id="exercise-2-implementing-the-preprocessing-steps">Exercise 2: Implementing the Preprocessing Steps</h4>
<p>Now that we have a plan, let’s implement these preprocessing steps in R. Use the <code>tidyr</code>, <code>dplyr</code>, and <code>stringr</code> packages to clean the <code>dh_keywords</code> dataset according to your plan.</p>
<div id="hint-implement-1" style="display: none;">
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-16-contents" aria-controls="callout-16" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint 1
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-16" class="callout-16-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Use <code><a href="https://juliasilge.github.io/tidytext/reference/unnest_tokens.html">unnest_tokens()</a></code> from tidytext to tokenize the data into individual words. Remember, by default this will take care of the lowercasing and punctuation removal for us.</p>
</div>
</div>
</div>
</div>
<div id="hint-implement-2" style="display: none;">
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-17-contents" aria-controls="callout-17" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint 2
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-17" class="callout-17-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Use <code><a href="https://dplyr.tidyverse.org/reference/filter-joins.html">anti_join()</a></code> with a stop words dataset to remove common words.</p>
</div>
</div>
</div>
</div>
<div id="hint-implement-3" style="display: none;">
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-18-contents" aria-controls="callout-18" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint 3
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-18" class="callout-18-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Use <code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code> with <code><a href="https://rdrr.io/r/base/nchar.html">nchar()</a></code> to remove empty entries.</p>
</div>
</div>
</div>
</div>
<script>
createProgressiveHints('hint-implement', 3);
</script><div id="template-implement" style="display: none;">
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">p_load</span>(tidytext)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>dh_keywords_clean <span class="ot">&lt;-</span> dh_keywords <span class="sc">%&gt;%</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> keyword) <span class="sc">%&gt;%</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(stop_words) <span class="sc">%&gt;%</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(_ <span class="sc">&gt;</span> _)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the final result and the number of rows</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(dh_keywords_clean)</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"Number of keywords after preprocessing:"</span>, <span class="fu">nrow</span>(dh_keywords_clean))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<script>
createToggleSection('template-button-implement', 'template-implement', 'Show Template');
</script><div id="solution-implement" style="display: none;">
<div class="cell">
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">tidytext</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dh_keywords_clean</span> <span class="op">&lt;-</span> <span class="va">dh_keywords</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">unnest_tokens</span><span class="op">(</span>output <span class="op">=</span> <span class="va">word</span>, input <span class="op">=</span> <span class="va">keyword</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">anti_join</span><span class="op">(</span><span class="va">stop_words</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html">nchar</a></span><span class="op">(</span><span class="va">word</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(word)`</code></pre>
</div>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Display the final result and the number of rows</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">dh_keywords_clean</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 405 × 1
   word   
   &lt;chr&gt;  
 1 math   
 2 chatgpt
 3 ai     
 4 ai     
 5 ai     
 6 ai     
 7 coding 
 8 ai     
 9 ai     
10 data   
# ℹ 395 more rows</code></pre>
</div>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"Number of keywords after preprocessing:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">dh_keywords_clean</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Number of keywords after preprocessing: 405"</code></pre>
</div>
</div>
</div>
<script>
createToggleSection('solution-button-implement', 'solution-implement', 'Show Solution');
</script></section></section></section><section id="text-representation" class="level1" data-number="3"><h1 data-number="3">
<span class="header-section-number">3</span> Text Representation 🧮</h1>
<p>After preprocessing our text data, the next crucial step is to transform it into a format that machines can understand and analyze. This process is called text representation.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-19-contents" aria-controls="callout-19" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Key Concepts in Text Representation
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-19" class="callout-19-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<ol type="1">
<li>
<p><strong>Count-based methods</strong>:</p>
<ul>
<li>Bag-of-words representation: Represents text as an unordered collection of words, counting their occurrences.</li>
<li>Term frequency-inverse document frequency (TF-IDF): Reflects word importance in a document relative to a corpus.</li>
</ul>
</li>
<li>
<p><strong>Context-based methods</strong>:</p>
<ul>
<li>N-grams analysis: Examines sequences of N words to capture local context.</li>
<li>Co-occurrence matrix: Represents how often words appear together within a certain distance.</li>
<li>Word embeddings (e.g., Word2Vec, GloVe): Dense vector representations capturing semantic relationships.</li>
</ul>
</li>
</ol>
</div>
</div>
</div>
<p>Let’s first focus on one of the most fundamental and widely used text representation methods: the Bag-of-Words (BoW) model.</p>
<section id="bag-of-words-bow" class="level2" data-number="3.1"><h2 data-number="3.1" class="anchored" data-anchor-id="bag-of-words-bow">
<span class="header-section-number">3.1</span> Bag-of-Words (BoW)</h2>
<p>The Bag-of-Words model is a simple yet powerful way to represent text data. It treats each document (unit of analysis) as an unordered collection of words, disregarding grammar and word order but keeping track of word frequency. <img src="images/BOW.png" class="img-fluid"></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-20-contents" aria-controls="callout-20" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Key Features of Bag-of-Words
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-20" class="callout-20-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<ul>
<li>Counts how many times each word appears in a text or document</li>
<li>Creates a list of all unique words used across all documents</li>
<li>Treats each unique word as a separate piece of information</li>
<li>Ignores word order or grammar and only represent how often words appear</li>
</ul>
<p>Note: In text analysis, we often use the term “document” to refer to any unit of text we’re analyzing. This could be a book, an article, a tweet, or even a single sentence, depending on our research goals.</p>
</div>
</div>
</div>
<p>Let’s look at a simple example to understand how BoW works:</p>
<div class="cell">
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://juliasilge.github.io/tidytext/">tidytext</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Sample documents</span></span>
<span><span class="va">docs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"The cat sat on the mat"</span>,</span>
<span>  <span class="st">"The dog chased the cat"</span>,</span>
<span>  <span class="st">"The mat was red"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a tibble</span></span>
<span><span class="va">text_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>doc_id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, text <span class="op">=</span> <span class="va">docs</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Tokenize and count words</span></span>
<span><span class="va">bow_representation</span> <span class="op">&lt;-</span> <span class="va">text_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://juliasilge.github.io/tidytext/reference/unnest_tokens.html">unnest_tokens</a></span><span class="op">(</span><span class="va">word</span>, <span class="va">text</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">doc_id</span>, <span class="va">word</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display the BoW representation</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">bow_representation</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 13 × 3
   doc_id word       n
    &lt;int&gt; &lt;chr&gt;  &lt;int&gt;
 1      1 the        2
 2      2 the        2
 3      1 cat        1
 4      1 mat        1
 5      1 on         1
 6      1 sat        1
 7      2 cat        1
 8      2 chased     1
 9      2 dog        1
10      3 mat        1
11      3 red        1
12      3 the        1
13      3 was        1</code></pre>
</div>
</div>
<p>In this representation: - Each row represents a word in a specific document - ‘doc_id’ identifies the document - ‘word’ is the tokenized word - ‘n’ represents the count of that word in the document</p>
<p>This BoW representation allows us to see the frequency of each word in each document, forming the basis for various text analysis techniques.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-21-contents" aria-controls="callout-21" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code><a href="https://dplyr.tidyverse.org/reference/count.html">count()</a></code> function
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-21" class="callout-21-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>The <code><a href="https://dplyr.tidyverse.org/reference/count.html">count()</a></code> function from <code>dplyr</code> is a powerful tool for summarizing data:</p>
<ul>
<li>Purpose: Counts the number of rows with each unique combination of variables.</li>
<li>Basic usage: <code>count(data, variable_to_count)</code>
</li>
<li>Key features:
<ul>
<li>Automatically arranges results in descending order with <code>sort = TRUE</code>
</li>
<li>Can count multiple variables at once: <code>count(var1, var2)</code>
</li>
<li>Allows custom naming of the count column: <code>count(var, name = "my_count")</code>
</li>
</ul>
</li>
<li>Tip: Combine with <code><a href="https://dplyr.tidyverse.org/reference/slice.html">slice_head()</a></code> or <code><a href="https://dplyr.tidyverse.org/reference/slice.html">slice_max()</a></code> to focus on top results</li>
</ul>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-22-contents" aria-controls="callout-22" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Advantages and Limitations of BoW
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-22" class="callout-22-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Advantages: - Simple and intuitive - Computationally efficient - Effective for many text classification tasks</p>
<p>Limitations: - Loses word order information - Can result in high-dimensional, sparse vectors - Doesn’t capture semantics or context - Ignores word relationships and meanings</p>
</div>
</div>
</div>
<p>Despite its limitations, the Bag-of-Words model remains a fundamental technique in text analysis, often serving as a starting point for more complex analyses or as a baseline for comparing more sophisticated models.</p>
<p>Now, let’s generate the BoW representation of our preprocessed DH Keywords data.</p>
<div class="cell">
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">word_frequencies</span> <span class="op">&lt;-</span> <span class="va">dh_keywords_clean</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">word</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">word_frequencies</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 120 × 2
   word            n
   &lt;chr&gt;       &lt;int&gt;
 1 data           61
 2 ai             50
 3 coding         34
 4 analysis       18
 5 technology     17
 6 science        14
 7 computer       13
 8 programming    11
 9 statistics      9
10 ethics          7
# ℹ 110 more rows</code></pre>
</div>
</div>
</section></section><section id="visualizing-text-data" class="level1" data-number="4"><h1 data-number="4">
<span class="header-section-number">4</span> Visualizing Text Data 📊</h1>
<p>Now that we have transformed our keywords into numbers, how do we visualize them?</p>
<section id="word-clouds" class="level2" data-number="4.1"><h2 data-number="4.1" class="anchored" data-anchor-id="word-clouds">
<span class="header-section-number">4.1</span> Word Clouds</h2>
<p>Word clouds are a popular way to visualize the most frequent words in a text, with the size of each word proportional to its frequency.</p>
<div class="cell">
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">wordcloud2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a word cloud</span></span>
<span><span class="fu">wordcloud2</span><span class="op">(</span>data <span class="op">=</span> <span class="va">word_frequencies</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice_head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">50</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="wordcloud2 html-widget html-fill-item" id="htmlwidget-c6a91a1a4e385e75f57c" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-c6a91a1a4e385e75f57c">{"x":{"word":["data","ai","coding","analysis","technology","science","computer","programming","statistics","ethics","digital","research","social","chatgpt","code","human","humanities","text","tools","artificial","culture","disciplinary","innovative","interdisciplinary","programing","quantitative","society","complicated","corpus","creativity","difficult","humanity","intelligence","inter","linguistics","multimedia","network","processing","program","quantative","tech","video","abstract","advanced","analysing","analytical","applying","auxiliary","based","care"],"freq":[61,50,34,18,17,14,13,11,9,7,5,5,5,4,4,4,4,4,4,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1],"fontFamily":"Segoe UI","fontWeight":"bold","color":"random-dark","minSize":0,"weightFactor":1.475409836065574,"backgroundColor":"white","gridSize":0,"minRotation":-0.7853981633974483,"maxRotation":0.7853981633974483,"shuffle":true,"rotateRatio":0.4,"shape":"circle","ellipticity":0.65,"figBase64":null,"hover":null},"evals":[],"jsHooks":{"render":[{"code":"function(el,x){\n                        console.log(123);\n                        if(!iii){\n                          window.location.reload();\n                          iii = False;\n\n                        }\n  }","data":null}]}}</script>
</div>
</div>
<p>Alternatively, you can also use the following code to tweak the style of the plot:</p>
<div class="cell">
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Make it more aesthetically pleasing</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">RColorBrewer</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a color palette</span></span>
<span><span class="va">color_palette</span> <span class="op">&lt;-</span> <span class="fu">brewer.pal</span><span class="op">(</span><span class="fl">8</span>, <span class="st">"Dark2"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">wordcloud2</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">word_frequencies</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice_head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">50</span><span class="op">)</span>,  <span class="co"># Use top 50 most frequent words</span></span>
<span>  size <span class="op">=</span> <span class="fl">0.6</span>,                    <span class="co"># Increase text size for better readability</span></span>
<span>  color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep_len</a></span><span class="op">(</span><span class="va">color_palette</span>, <span class="fl">50</span><span class="op">)</span>,  <span class="co"># Apply color palette to words</span></span>
<span>  backgroundColor <span class="op">=</span> <span class="st">"white"</span>,     <span class="co"># Set background color to white</span></span>
<span>  rotateRatio <span class="op">=</span> <span class="fl">0.3</span>,             <span class="co"># Reduce word rotation for cleaner look</span></span>
<span>  shape <span class="op">=</span> <span class="st">"circle"</span>,              <span class="co"># Set overall shape of the word cloud</span></span>
<span>  fontFamily <span class="op">=</span> <span class="st">"Arial"</span>,          <span class="co"># Use Arial font for consistency</span></span>
<span>  fontWeight <span class="op">=</span> <span class="st">"bold"</span>,           <span class="co"># Make text bold for emphasis</span></span>
<span>  minRotation <span class="op">=</span> <span class="op">-</span><span class="va">pi</span><span class="op">/</span><span class="fl">6</span>,           <span class="co"># Set minimum rotation angle (30 degrees left)</span></span>
<span>  maxRotation <span class="op">=</span> <span class="va">pi</span><span class="op">/</span><span class="fl">6</span>             <span class="co"># Set maximum rotation angle (30 degrees right)</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img src="images/wordcloud2.png" class="img-fluid"></p>
</section><section id="bar-charts-of-word-frequency" class="level2" data-number="4.2"><h2 data-number="4.2" class="anchored" data-anchor-id="bar-charts-of-word-frequency">
<span class="header-section-number">4.2</span> Bar Charts of Word Frequency</h2>
<p>Bar charts offer a more precise way to visualize word frequencies, especially for comparing the most common words.</p>
<div class="cell">
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">ggplot2</span><span class="op">)</span></span>
<span></span>
<span><span class="va">word_frequencies</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice_head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">20</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">word</span>, <span class="va">n</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_col</span><span class="op">(</span>fill<span class="op">=</span><span class="st">"Steelblue"</span><span class="op">)</span> <span class="op">+</span> <span class="co"># Color all bars in blue</span></span>
<span>  <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Word"</span>, y <span class="op">=</span> <span class="st">"Frequency"</span>, title <span class="op">=</span> <span class="st">"Top 10 Most Frequent DH Keywords"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="06-qta_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Now, what problem do you notice in the above analysis? You may notice that the top keywords/words are perhaps too decontexualized. For instance, the “science” and “computer” entries are perhaps originally “computer science”.</p>
<p>How do we add a bit more contextual information to this?</p>
</section><section id="n-grams" class="level2" data-number="4.3"><h2 data-number="4.3" class="anchored" data-anchor-id="n-grams">
<span class="header-section-number">4.3</span> N-grams</h2>
<p>N-grams are sequences of n items from a given text. These items can be words, characters, or even syllables. N-grams help capture phrases and word associations, providing context that single words might miss. This approach can address some of the limitations we observed with the Bag-of-Words model, particularly its inability to preserve word order and capture multi-word concepts.</p>
<p><img src="images/ngrams.png" class="img-fluid"></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-23-contents" aria-controls="callout-23" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Understanding N-grams
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-23" class="callout-23-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<ul>
<li>Unigrams (n=1): Single words, e.g., “digital”, “humanities”</li>
<li>Bigrams (n=2): Two consecutive words, e.g., “digital humanities”</li>
<li>Trigrams (n=3): Three consecutive words, e.g., “natural language processing”</li>
<li>And so on for larger n…</li>
</ul>
<p>N-grams preserve word order, which can be crucial for understanding meaning and context in text analysis.</p>
</div>
</div>
</div>
<p>By using n-grams, we can potentially recover some of the multi-word terms that were split in our earlier analysis, such as “computer science” or “artificial intelligence”.</p>
<div class="cell">
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">bigrams</span> <span class="op">&lt;-</span> <span class="va">dh_keywords</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://juliasilge.github.io/tidytext/reference/unnest_ngrams.html">unnest_ngrams</a></span><span class="op">(</span><span class="va">bigram</span>, <span class="va">keyword</span>, n <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display the most common bigrams</span></span>
<span><span class="va">bigrams</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">bigram</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html">nchar</a></span><span class="op">(</span><span class="va">bigram</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 2
   bigram               n
   &lt;chr&gt;            &lt;int&gt;
 1 ai coding            6
 2 coding data          6
 3 data ai              6
 4 data coding          6
 5 computer science     5
 6 data analysis        5
 7 ai data              4
 8 social science       4
 9 analysis coding      3
10 coding analysis      3</code></pre>
</div>
</div>
<p>:::</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-24-contents" aria-controls="callout-24" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Considering Multiple N-gram Sizes
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-24" class="callout-24-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Researchers often use a combination of n-gram sizes (e.g., unigrams, bigrams, and trigrams) for several reasons:</p>
<ol type="1">
<li>
<strong>Comprehensive Coverage</strong>: Different n-gram sizes capture different aspects of language.</li>
<li>
<strong>Balancing Specificity and Generality</strong>: Larger n-grams are more specific but occur less frequently.</li>
<li>
<strong>Handling Varied Phrases</strong>: Some meaningful phrases are two words, others three or more.</li>
</ol>
<p>However, using multiple n-gram sizes also has challenges:</p>
<ul>
<li>
<strong>Increased Complexity</strong>: More data to process and analyze.</li>
<li>
<strong>Overlapping Information</strong>: Bigrams and trigrams may contain redundant information.</li>
<li>
<strong>Sparse Data</strong>: Larger n-grams may occur very infrequently, leading to sparse data issues.</li>
</ul>
<p>The choice depends on your research questions and the nature of your texts.</p>
</div>
</div>
</div>
<p>Here’s an example of how we might generate n-grams of different sizes:</p>
<div class="cell">
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">tidytext</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mixed_ngrams</span> <span class="op">=</span> <span class="va">dh_keywords</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://juliasilge.github.io/tidytext/reference/unnest_ngrams.html">unnest_ngrams</a></span><span class="op">(</span><span class="va">ngrams</span>, <span class="va">keyword</span>, n <span class="op">=</span> <span class="fl">3</span>, n_min <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Display the top 5 of each</span></span>
<span><span class="va">mixed_ngrams</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">ngrams</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>keyword_len <span class="op">=</span> <span class="fu">str_count</span><span class="op">(</span><span class="va">ngrams</span>, <span class="st">"\\S+"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">keyword_len</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice_max</a></span><span class="op">(</span><span class="va">n</span>, n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This approach allows us to see the most common phrases of different lengths in our dataset, providing a more comprehensive view of the language used in digital humanities keywords.</p>
</section><section id="learning-check-1" class="level2" data-number="4.4"><h2 data-number="4.4" class="anchored" data-anchor-id="learning-check-1">
<span class="header-section-number">4.4</span> Learning Check 🏁</h2>
<div id="quiz-text-analysis">

</div>
<script>
createQuiz({
  questions: [
    {
      text: "What is tokenization in text analysis?",
      options: [
        "The process of removing punctuation from text",
        "Breaking down text into smaller units like words or sentences",
        "Converting all text to lowercase",
        "Removing common words from text"
      ]
    },
    {
      text: "What are stopwords in text analysis?",
      options: [
        "Words that appear most frequently in a text",
        "Words that are misspelled in a text",
        "Common words like 'the', 'is', 'at' that are often removed from analysis",
        "Words that are unique to a specific text"
      ]
    },
    {
      text: "In a word cloud visualization, what does the size of a word typically represent?",
      options: [
        "The length of the word",
        "The alphabetical order of the word",
        "The frequency of the word in the text",
        "The sentiment of the word"
      ]
    },
    {
      text: "What is the primary purpose of the Bag-of-Words (BoW) model in text representation?",
      options: [
        "To preserve the grammatical structure of sentences",
        "To represent text as an unordered collection of word frequencies",
        "To analyze the sentiment of each word in a text",
        "To identify the main topics in a document"
      ]
    },
    {
      text: "Which of the following is NOT a limitation of the Bag-of-Words model?",
      options: [
        "It loses word order information",
        "It doesn't capture context or semantics",
        "It results in high-dimensional, sparse vectors",
        "It's computationally intensive and slow to process"
      ]
    }
  ],
  answers: [1, 2, 2, 1, 3]
}, "quiz-text-analysis");
</script><p>This learning check will help reinforce the key concepts covered in this section on basic text analysis and visualization techniques.</p>
</section></section><section id="conclusion" class="level1" data-number="5"><h1 data-number="5">
<span class="header-section-number">5</span> Conclusion</h1>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-25-contents" aria-controls="callout-25" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Key Takeaways
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-25" class="callout-25-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>In this chapter, we’ve covered:</p>
<ul>
<li>The basics of Quantitative Text Analysis (QTA) and its applications in Digital Humanities</li>
<li>Essential text preprocessing techniques including tokenization, noise removal, and stopword removal</li>
<li>Text representation methods, focusing on the Bag-of-Words model and n-grams</li>
<li>Visualization techniques for text data, including word clouds and frequency bar charts</li>
<li>Hands-on application of these concepts to analyze Digital Humanities keywords</li>
</ul>
</div>
</div>
</div>
<p>These foundational skills in Quantitative Text Analysis provide a powerful toolkit for exploring and analyzing textual data in Digital Humanities. As we progress in our journey, we’ll build upon these concepts to perform more sophisticated text analysis techniques and derive deeper insights from textual data.</p>
<div class="topic-flow">
<div class="topic-box highlight-blue">
<p>QTA Basics</p>
</div>
<div class="topic-box highlight-green">
<p>Text Preprocessing</p>
</div>
<div class="topic-box highlight-yellow">
<p>Text Representation</p>
</div>
<div class="topic-box highlight-pink">
<p>Text Visualization</p>
</div>
</div>
<iframe src="float_traffic.html" width="200px" height="200px" style="border:none; position: fixed; bottom: 10px; right: 10px; z-index: 9999;" scrolling="no">
</iframe>
<iframe src="float_dash.html" width="200px" height="200px" style="border:none; position: fixed; bottom: 10px; left: 10px; z-index: 9999;" scrolling="no">
</iframe>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer"><div class="container">
    <div class="row align-items-center">
      <div class="col-md-8">
        Content <i class="fab fa-creative-commons"></i> 2024 by <a href="https://mengliu.info">Meng Liu</a> •
        All content licensed under a <i class="fab fa-creative-commons"></i>
        <i class="fab fa-creative-commons-by"></i> <i class="fab fa-creative-commons-nc"></i>
        <a href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a>
      </div>
      <div class="col-md-4 text-md-end">
        Made with <i class="fab fa-r-project"></i> and <a href="https://quarto.org/">Quarto</a> •
        <a href="https://github.com/mengliuveronica/Intro-to-DH">View source <i class="fab fa-github"></i></a>
      </div>
    </div>
  </div>
</footer>


</body></html>