<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>§4 Dealing with Cards 🃏 – Intro to DH</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script src="quiz.js"></script><script src="content-switch.js"></script><link rel="stylesheet" href="../custom.css">
</head>
<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Intro to DH</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../syllabus.html"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../toolbox.html"> 
<span class="menu-text">Toybox</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../book/index.html"> 
<span class="menu-text">Book</span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li>
<a href="#r-data-types" id="toc-r-data-types" class="nav-link active" data-scroll-target="#r-data-types"><span class="header-section-number">1</span> R Data Types 🧱</a>
  <ul class="collapse">
<li><a href="#numeric" id="toc-numeric" class="nav-link" data-scroll-target="#numeric"><span class="header-section-number">1.1</span> Numeric</a></li>
  <li><a href="#character" id="toc-character" class="nav-link" data-scroll-target="#character"><span class="header-section-number">1.2</span> Character</a></li>
  <li><a href="#logical" id="toc-logical" class="nav-link" data-scroll-target="#logical"><span class="header-section-number">1.3</span> Logical</a></li>
  <li><a href="#factor" id="toc-factor" class="nav-link" data-scroll-target="#factor"><span class="header-section-number">1.4</span> Factor</a></li>
  <li><a href="#learning-check" id="toc-learning-check" class="nav-link" data-scroll-target="#learning-check"><span class="header-section-number">1.5</span> Learning Check 🏁</a></li>
  <li><a href="#hands-on-coding" id="toc-hands-on-coding" class="nav-link" data-scroll-target="#hands-on-coding"><span class="header-section-number">1.6</span> Hands-On Coding 💻</a></li>
  </ul>
</li>
  <li>
<a href="#data-frames" id="toc-data-frames" class="nav-link" data-scroll-target="#data-frames"><span class="header-section-number">2</span> Data Frames 📊</a>
  <ul class="collapse">
<li><a href="#accessing-data-in-a-data-frame" id="toc-accessing-data-in-a-data-frame" class="nav-link" data-scroll-target="#accessing-data-in-a-data-frame"><span class="header-section-number">2.1</span> Accessing Data in a Data Frame</a></li>
  <li><a href="#learning-check-1" id="toc-learning-check-1" class="nav-link" data-scroll-target="#learning-check-1"><span class="header-section-number">2.2</span> Learning Check 🏁</a></li>
  <li><a href="#hands-on-coding-1" id="toc-hands-on-coding-1" class="nav-link" data-scroll-target="#hands-on-coding-1"><span class="header-section-number">2.3</span> Hands-On Coding 💻</a></li>
  </ul>
</li>
  <li>
<a href="#building-our-deck-of-cards" id="toc-building-our-deck-of-cards" class="nav-link" data-scroll-target="#building-our-deck-of-cards"><span class="header-section-number">3</span> Building Our Deck of Cards 🃏</a>
  <ul class="collapse">
<li><a href="#learning-check-2" id="toc-learning-check-2" class="nav-link" data-scroll-target="#learning-check-2"><span class="header-section-number">3.1</span> Learning Check 🏁</a></li>
  <li><a href="#hands-on-coding-2" id="toc-hands-on-coding-2" class="nav-link" data-scroll-target="#hands-on-coding-2"><span class="header-section-number">3.2</span> Hands-On Coding 💻</a></li>
  </ul>
</li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="header-section-number">4</span> Conclusion</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">§4 Dealing with Cards 🃏</h1>
<p class="subtitle lead">R Objects and Data Frames</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><p>Welcome to your second project with R! We’ll create a virtual deck of poker cards to explore more advanced R concepts. Just as historians analyze artifacts or literary scholars examine texts, we’ll be examining different ways to structure and manipulate data in R.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Learning Objectives
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>🧱 Understand different R data types - the building blocks of information</li>
<li>📊 Create and manipulate data frames - R’s powerful spreadsheet-like structure</li>
<li>🃏 Build a virtual deck of cards - applying R concepts to a real-world object</li>
<li>🔍 Extract and modify data - skills crucial for data analysis</li>
</ul>
</div>
</div>
<section id="r-data-types" class="level1" data-number="1"><h1 data-number="1">
<span class="header-section-number">1</span> R Data Types 🧱</h1>
<p>In R, just as in language, we have different types of information. Let’s explore some common data types:</p>
<section id="numeric" class="level2" data-number="1.1"><h2 data-number="1.1" class="anchored" data-anchor-id="numeric">
<span class="header-section-number">1.1</span> Numeric</h2>
<p>We’ve already seen this with our dice. It includes both integers and decimal numbers:</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">my_integer</span> <span class="op">&lt;-</span> <span class="fl">42</span></span>
<span><span class="va">my_deci</span> <span class="op">&lt;-</span> <span class="fl">3.14</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">my_integer</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">my_deci</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
</section><section id="character" class="level2" data-number="1.2"><h2 data-number="1.2" class="anchored" data-anchor-id="character">
<span class="header-section-number">1.2</span> Character</h2>
<p>This is used for text data, like words or sentences:</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">my_name</span> <span class="op">&lt;-</span> <span class="st">"Shakespeare"</span></span>
<span><span class="va">my_quote</span> <span class="op">&lt;-</span> <span class="st">"To be or not to be"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">my_name</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">my_quote</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
</section><section id="logical" class="level2" data-number="1.3"><h2 data-number="1.3" class="anchored" data-anchor-id="logical">
<span class="header-section-number">1.3</span> Logical</h2>
<p>This represents true/false values:</p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">is_sunny</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span><span class="va">is_raining</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">is_sunny</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "logical"</code></pre>
</div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">is_raining</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "logical"</code></pre>
</div>
</div>
</section><section id="factor" class="level2" data-number="1.4"><h2 data-number="1.4" class="anchored" data-anchor-id="factor">
<span class="header-section-number">1.4</span> Factor</h2>
<p>This is used for categorical data, like genres in literature:</p>
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">genres</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Poetry"</span>, <span class="st">"Prose"</span>, <span class="st">"Drama"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">genres</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "factor"</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Factors are useful for representing data that falls into distinct categories, like genres, time periods, or author nationalities in literary studies.</p>
</div>
</div>
</section><section id="learning-check" class="level2" data-number="1.5"><h2 data-number="1.5" class="anchored" data-anchor-id="learning-check">
<span class="header-section-number">1.5</span> Learning Check 🏁</h2>
<div id="quiz1">

</div>
<script>
createQuiz({
  questions: [
    {
      text: "Which data type would you use to store a person's age?",
      options: [
        "Character",
        "Numeric",
        "Logical",
        "Factor"
      ]
    },
    {
      text: "What data type is best for storing the title of a book?",
      options: [
        "Numeric",
        "Character",
        "Logical",
        "Factor"
      ]
    },
    {
      text: "Which data type would you use to represent whether a book is fiction or non-fiction?",
      options: [
        "Numeric",
        "Character",
        "Logical",
        "Factor"
      ]
    }
  ],
  answers: [1, 1, 3]
}, "quiz1");
</script></section><section id="hands-on-coding" class="level2" data-number="1.6"><h2 data-number="1.6" class="anchored" data-anchor-id="hands-on-coding">
<span class="header-section-number">1.6</span> Hands-On Coding 💻</h2>
<p>Try the following:</p>
<ol type="1">
<li>Create a numeric variable called <code>year_published</code> and assign it the year your favorite book was published.</li>
<li>Create a character variable called <code>book_title</code> with the title of your favorite book.</li>
<li>Create a logical variable called <code>is_fiction</code> indicating whether your favorite book is fiction (TRUE) or non-fiction (FALSE).</li>
<li>Create a factor variable called <code>book_genre</code> with a few genres (e.g., “Mystery”, “Romance”, “Science Fiction”).</li>
</ol>
<div id="hidden-content1" style="display: none;">
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Year published</span></span>
<span><span class="va">year_published</span> <span class="op">&lt;-</span> <span class="fl">1960</span></span>
<span><span class="co"># Book title</span></span>
<span><span class="va">book_title</span> <span class="op">&lt;-</span> <span class="st">"To Kill a Mockingbird"</span></span>
<span><span class="co"># Fiction or non-fiction</span></span>
<span><span class="va">is_fiction</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span><span class="co"># Book genre</span></span>
<span><span class="va">book_genre</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Mystery"</span>, <span class="st">"Romance"</span>, <span class="st">"Science Fiction"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<script>
createToggleSection('button1', 'hidden-content1');
</script></section></section><section id="data-frames" class="level1" data-number="2"><h1 data-number="2">
<span class="header-section-number">2</span> Data Frames 📊</h1>
<p>A data frame is like a spreadsheet in R. It’s a collection of vectors of equal length, each representing a column. This structure is perfect for our deck of cards!</p>
<p>Let’s create a simple data frame to represent books:</p>
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">books</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span></span>
<span>title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"1984"</span>, <span class="st">"Pride and Prejudice"</span>, <span class="st">"The Great Gatsby"</span><span class="op">)</span>,</span>
<span>author <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Orwell"</span>, <span class="st">"Austen"</span>, <span class="st">"Fitzgerald"</span><span class="op">)</span>,</span>
<span>year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1949</span>, <span class="fl">1813</span>, <span class="fl">1925</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">books</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                title     author year
1                1984     Orwell 1949
2 Pride and Prejudice     Austen 1813
3    The Great Gatsby Fitzgerald 1925</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Data frames are crucial in data analysis. They allow you to store different types of data (like numbers and text) together in a structured format.</p>
</div>
</div>
<section id="accessing-data-in-a-data-frame" class="level2" data-number="2.1"><h2 data-number="2.1" class="anchored" data-anchor-id="accessing-data-in-a-data-frame">
<span class="header-section-number">2.1</span> Accessing Data in a Data Frame</h2>
<p>You can access specific parts of a data frame using various methods:</p>
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Get a specific column</span></span>
<span><span class="va">books</span><span class="op">$</span><span class="va">title</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1984"                "Pride and Prejudice" "The Great Gatsby"   </code></pre>
</div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Get a specific row</span></span>
<span><span class="va">books</span><span class="op">[</span><span class="fl">2</span>, <span class="op">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                title author year
2 Pride and Prejudice Austen 1813</code></pre>
</div>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Get a specific cell</span></span>
<span><span class="va">books</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Orwell"</code></pre>
</div>
</div>
</section><section id="learning-check-1" class="level2" data-number="2.2"><h2 data-number="2.2" class="anchored" data-anchor-id="learning-check-1">
<span class="header-section-number">2.2</span> Learning Check 🏁</h2>
<div id="quiz2">

</div>
<script>
createQuiz({
  questions: [
    {
      text: "What is a data frame in R?",
      options: [
        "A type of graph",
        "A collection of vectors of equal length",
        "A single column of data",
        "A programming function"
      ]
    },
    {
      text: "How would you access the 'author' column in a data frame called 'books'?",
      options: [
        "books[author]",
        "books$author",
        "author(books)",
        "books.author"
      ]
    },
    {
      text: "What does books[2, ] return?",
      options: [
        "The second column of the 'books' data frame",
        "The second row of the 'books' data frame",
        "The second cell of the 'books' data frame",
        "An error"
      ]
    }
  ],
  answers: [1, 1, 1]
}, "quiz2");
</script></section><section id="hands-on-coding-1" class="level2" data-number="2.3"><h2 data-number="2.3" class="anchored" data-anchor-id="hands-on-coding-1">
<span class="header-section-number">2.3</span> Hands-On Coding 💻</h2>
<p>Let’s create a data frame for a deck of cards:</p>
<ol type="1">
<li>Create three vectors: <code>suit</code> (Hearts, Diamonds, Clubs, Spades), <code>rank</code> (Ace, 2-10, Jack, Queen, King), and <code>value</code> (1-13).</li>
<li>Use these vectors to create a data frame called <code>deck</code>.</li>
<li>Print the first few rows of your deck using the <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code> function.</li>
<li>Access all the hearts in your deck.</li>
<li>Find the value of the King of Spades.</li>
</ol>
<div id="hidden-content2" style="display: none;">
<div class="cell">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Create vectors</span></span>
<span><span class="va">suit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Hearts"</span>, <span class="st">"Diamonds"</span>, <span class="st">"Clubs"</span>, <span class="st">"Spades"</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">13</span><span class="op">)</span></span>
<span><span class="va">rank</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Ace"</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">10</span>, <span class="st">"Jack"</span>, <span class="st">"Queen"</span>, <span class="st">"King"</span><span class="op">)</span>, times <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">value</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">13</span>, times <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create data frame</span></span>
<span><span class="va">deck</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">suit</span>, <span class="va">rank</span>, <span class="va">value</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Print first few rows</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">deck</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    suit rank value
1 Hearts  Ace     1
2 Hearts    2     2
3 Hearts    3     3
4 Hearts    4     4
5 Hearts    5     5
6 Hearts    6     6</code></pre>
</div>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Access all hearts</span></span>
<span><span class="va">hearts</span> <span class="op">&lt;-</span> <span class="va">deck</span><span class="op">[</span><span class="va">deck</span><span class="op">$</span><span class="va">suit</span> <span class="op">==</span> <span class="st">"Hearts"</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># Find value of King of Spades</span></span>
<span><span class="va">king_of_spades</span> <span class="op">&lt;-</span> <span class="va">deck</span><span class="op">[</span><span class="va">deck</span><span class="op">$</span><span class="va">suit</span> <span class="op">==</span> <span class="st">"Spades"</span> <span class="op">&amp;</span> <span class="va">deck</span><span class="op">$</span><span class="va">rank</span> <span class="op">==</span> <span class="st">"King"</span>, <span class="st">"value"</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">king_of_spades</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13</code></pre>
</div>
</div>
</div>
<script>
createToggleSection('button2', 'hidden-content2');
</script></section></section><section id="building-our-deck-of-cards" class="level1" data-number="3"><h1 data-number="3">
<span class="header-section-number">3</span> Building Our Deck of Cards 🃏</h1>
<p>Now that we understand data frames, let’s build our full deck of cards:</p>
<div class="cell">
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Create the deck</span></span>
<span><span class="va">deck</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span></span>
<span>suit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Hearts"</span>, <span class="st">"Diamonds"</span>, <span class="st">"Clubs"</span>, <span class="st">"Spades"</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">13</span><span class="op">)</span>,</span>
<span>rank <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Ace"</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">10</span>, <span class="st">"Jack"</span>, <span class="st">"Queen"</span>, <span class="st">"King"</span><span class="op">)</span>, times <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>,</span>
<span>value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">13</span>, times <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the first few cards</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">deck</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    suit rank value
1 Hearts  Ace     1
2 Hearts    2     2
3 Hearts    3     3
4 Hearts    4     4
5 Hearts    5     5
6 Hearts    6     6</code></pre>
</div>
</div>
<p>This deck is now a structured data set that we can manipulate and analyze, just like any other data set in R!</p>
<section id="learning-check-2" class="level2" data-number="3.1"><h2 data-number="3.1" class="anchored" data-anchor-id="learning-check-2">
<span class="header-section-number">3.1</span> Learning Check 🏁</h2>
<div id="quiz3">

</div>
<script>
createQuiz({
  questions: [
    {
      text: "How many rows does our deck data frame have?",
      options: [
        "13",
        "4",
        "52",
        "26"
      ]
    },
    {
      text: "What function would you use to see the structure of the deck?",
      options: [
        "structure(deck)",
        "str(deck)",
        "summary(deck)",
        "view(deck)"
      ]
    },
    {
      text: "How would you access all the Aces in the deck?",
      options: [
        "deck[deck$value == 1, ]",
        "deck$Ace",
        "deck[1, ]",
        "deck[deck$rank == 'Ace', ]"
      ]
    }
  ],
  answers: [2, 1, 3]
}, "quiz3");
</script></section><section id="hands-on-coding-2" class="level2" data-number="3.2"><h2 data-number="3.2" class="anchored" data-anchor-id="hands-on-coding-2">
<span class="header-section-number">3.2</span> Hands-On Coding 💻</h2>
<p>Let’s practice working with our deck:</p>
<ol type="1">
<li>Use the <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> function to examine the structure of the deck.</li>
<li>Find all the face cards (Jack, Queen, King) in the deck.</li>
<li>Calculate the average value of all cards in the deck.</li>
<li>Create a new column in the deck called <code>color</code>, where Hearts and Diamonds are “Red” and Clubs and Spades are “Black”.</li>
<li>(Optional challenge) Create a function that randomly “draws” a card from the deck and prints its description (e.g., “You drew the King of Hearts”).</li>
</ol>
<div id="hidden-content3" style="display: none;">
<div class="cell">
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Examine structure</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">deck</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   52 obs. of  3 variables:
 $ suit : chr  "Hearts" "Hearts" "Hearts" "Hearts" ...
 $ rank : chr  "Ace" "2" "3" "4" ...
 $ value: int  1 2 3 4 5 6 7 8 9 10 ...</code></pre>
</div>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Find face cards</span></span>
<span><span class="va">face_cards</span> <span class="op">&lt;-</span> <span class="va">deck</span><span class="op">[</span><span class="va">deck</span><span class="op">$</span><span class="va">rank</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Jack"</span>, <span class="st">"Queen"</span>, <span class="st">"King"</span><span class="op">)</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># Calculate average value</span></span>
<span><span class="va">average_value</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">deck</span><span class="op">$</span><span class="va">value</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add color column</span></span>
<span><span class="va">deck</span><span class="op">$</span><span class="va">color</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">deck</span><span class="op">$</span><span class="va">suit</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Hearts"</span>, <span class="st">"Diamonds"</span><span class="op">)</span>, <span class="st">"Red"</span>, <span class="st">"Black"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># (Optional) Draw a card function</span></span>
<span><span class="va">draw_card</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span><span class="va">card</span> <span class="op">&lt;-</span> <span class="va">deck</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">deck</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"You drew the"</span>, <span class="va">card</span><span class="op">$</span><span class="va">rank</span>, <span class="st">"of"</span>, <span class="va">card</span><span class="op">$</span><span class="va">suit</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">draw_card</span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "You drew the Ace of Diamonds"</code></pre>
</div>
</div>
</div>
<script>
createToggleSection('button3', 'hidden-content3');
</script></section></section><section id="conclusion" class="level1" data-number="4"><h1 data-number="4">
<span class="header-section-number">4</span> Conclusion</h1>
<p>In this chapter, we’ve explored different data types in R and learned how to create and manipulate data frames. We’ve applied these concepts to build a virtual deck of cards, demonstrating how R can be used to represent and analyze real-world objects.</p>
<p>These skills form the foundation for more advanced data manipulation and analysis techniques. In the next chapter, we’ll learn how to write functions to deal and shuffle our deck, bringing our virtual cards to life!</p>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer"><div class="container">
    <div class="row align-items-center">
      <div class="col-md-8">
        Content <i class="fab fa-creative-commons"></i> 2024 by <a href="https://mengliu.info">Meng Liu</a> •
        All content licensed under a <i class="fab fa-creative-commons"></i>
        <i class="fab fa-creative-commons-by"></i> <i class="fab fa-creative-commons-nc"></i>
        <a href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a>
      </div>
      <div class="col-md-4 text-md-end">
        Made with <i class="fab fa-r-project"></i> and <a href="https://quarto.org/">Quarto</a> •
        <a href="https://github.com/mengliuveronica/Intro-to-DH">View source <i class="fab fa-github"></i></a>
      </div>
    </div>
  </div>
</footer>


</body></html>